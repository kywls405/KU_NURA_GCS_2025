{"ast":null,"code":"import _slicedToArray from\"C:/Users/yati0/NURA_GCS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import { createRoot } from \"react-dom/client\";\nimport{useState,useEffect,useRef}from\"react\";import{Canvas,useLoader,useFrame}from\"@react-three/fiber\";import{TextureLoader}from\"three\";import\"./navball.css\";/**\r\n * Navball을 html 위에 출력하는 함수,\r\n * 3D로 멋지게 출력함\r\n * @returns Navball 캔버스가 포함된 깔끔한 html 구문\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navball(props){var _useState=useState([0.0,0.0,0.0]),_useState2=_slicedToArray(_useState,2),euler=_useState2[0],eulerSet=_useState2[1];useEffect(function(){console.log(euler);if(Array.isArray(props.euler)&&props.euler.length===3){eulerSet(props.euler);}},[props.euler]);return/*#__PURE__*/_jsx(\"div\",{id:\"navball-container\",children:/*#__PURE__*/_jsx(Canvas,{camera:{zoom:3.55,top:150,bottom:-150,left:150,right:-150,near:1,far:1024,position:[0,0,200]},orthographic:true// 멋진 orthographic 카메라\n,flat:true// 아카데미 색공간 말고 그냥 색공간 씁시다\n,children:/*#__PURE__*/_jsx(NavMesh,{euler:euler})})});}/**\r\n * navball을 출력하는 함수.\r\n * mesh가 canvas 안에 있으니까 오류가 떠서 이렇게 분리함.\r\n * @returns navball을 three.js로 랜더링한 그거\r\n */function NavMesh(props){var myMesh=useRef();var rollGroup=useRef();var pitchGroup=useRef();var yawGroup=useRef();var _useState3=useState([0.0,0.0,0.0]),_useState4=_slicedToArray(_useState3,2),euler=_useState4[0],eulerSet=_useState4[1];var PI=3.141592;var DEG2RAD=PI/180.0;useEffect(function(){myMesh.current.rotation.y=3.0*3.141592/2.0;},[]);useEffect(function(){eulerSet(props.euler);rollGroup.current.rotation.z=euler[0]*DEG2RAD;// roll\npitchGroup.current.rotation.x=euler[1]*DEG2RAD;// pitch\nyawGroup.current.rotation.y=-euler[2]*DEG2RAD;// yaw\n},[props.euler]);// 텍스쳐 로딩\nvar navTexture=useLoader(TextureLoader,\"navball.png\");navTexture.anisotropy=16;return/*#__PURE__*/_jsx(\"group\",{ref:rollGroup,children:/*#__PURE__*/_jsx(\"group\",{ref:pitchGroup,children:/*#__PURE__*/_jsx(\"group\",{ref:yawGroup,children:/*#__PURE__*/_jsxs(\"mesh\",{ref:myMesh,children:[/*#__PURE__*/_jsx(\"sphereGeometry\",{args:[40,48,32]}),/*#__PURE__*/_jsx(\"meshBasicMaterial\",{map:navTexture})]})})})});}export default Navball;","map":{"version":3,"names":["useState","useEffect","useRef","Canvas","useLoader","useFrame","TextureLoader","jsx","_jsx","jsxs","_jsxs","Navball","props","_useState","_useState2","_slicedToArray","euler","eulerSet","console","log","Array","isArray","length","id","children","camera","zoom","top","bottom","left","right","near","far","position","orthographic","flat","NavMesh","myMesh","rollGroup","pitchGroup","yawGroup","_useState3","_useState4","PI","DEG2RAD","current","rotation","y","z","x","navTexture","anisotropy","ref","args","map"],"sources":["C:/Users/yati0/NURA_GCS/src/navball.js"],"sourcesContent":["// import { createRoot } from \"react-dom/client\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { Canvas, useLoader, useFrame } from \"@react-three/fiber\";\r\nimport { TextureLoader } from \"three\";\r\n\r\nimport \"./navball.css\";\r\n\r\n/**\r\n * Navball을 html 위에 출력하는 함수,\r\n * 3D로 멋지게 출력함\r\n * @returns Navball 캔버스가 포함된 깔끔한 html 구문\r\n */\r\nfunction Navball(props) {\r\n  const [euler, eulerSet] = useState([0.0, 0.0, 0.0]);\r\n\r\n  useEffect(() => {\r\n    console.log(euler);\r\n    if (Array.isArray(props.euler) && props.euler.length === 3) {\r\n      eulerSet(props.euler);\r\n    }\r\n  }, [props.euler]);\r\n\r\n  return (\r\n    <div id=\"navball-container\">\r\n      <Canvas\r\n        camera={{\r\n          zoom: 3.55,\r\n          top: 150,\r\n          bottom: -150,\r\n          left: 150,\r\n          right: -150,\r\n          near: 1,\r\n          far: 1024,\r\n          position: [0, 0, 200],\r\n        }}\r\n        orthographic={true} // 멋진 orthographic 카메라\r\n        flat={true} // 아카데미 색공간 말고 그냥 색공간 씁시다\r\n      >\r\n        <NavMesh euler={euler} />\r\n      </Canvas>\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * navball을 출력하는 함수.\r\n * mesh가 canvas 안에 있으니까 오류가 떠서 이렇게 분리함.\r\n * @returns navball을 three.js로 랜더링한 그거\r\n */\r\nfunction NavMesh(props) {\r\n  const myMesh = useRef();\r\n  const rollGroup = useRef();\r\n  const pitchGroup = useRef();\r\n  const yawGroup = useRef();\r\n  const [euler, eulerSet] = useState([0.0, 0.0, 0.0]);\r\n\r\n  const PI = 3.141592;\r\n  const DEG2RAD = PI / 180.0;\r\n\r\n  useEffect(() => {\r\n    myMesh.current.rotation.y = (3.0 * 3.141592) / 2.0;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    eulerSet(props.euler);\r\n    rollGroup.current.rotation.z = euler[0] * DEG2RAD; // roll\r\n    pitchGroup.current.rotation.x = euler[1] * DEG2RAD; // pitch\r\n    yawGroup.current.rotation.y = -euler[2] * DEG2RAD; // yaw\r\n  }, [props.euler]);\r\n\r\n  // 텍스쳐 로딩\r\n  const navTexture = useLoader(TextureLoader, \"navball.png\");\r\n  navTexture.anisotropy = 16;\r\n\r\n  return (\r\n    <group ref={rollGroup}>\r\n      <group ref={pitchGroup}>\r\n        <group ref={yawGroup}>\r\n          <mesh ref={myMesh}>\r\n            <sphereGeometry args={[40, 48, 32]} />\r\n            <meshBasicMaterial map={navTexture} />\r\n          </mesh>\r\n        </group>\r\n      </group>\r\n    </group>\r\n  );\r\n}\r\n\r\nexport default Navball;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}